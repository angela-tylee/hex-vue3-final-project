import{a as k}from"./axios-G2rPRu76.js";import{_ as w,c as a,a as e,b as i,w as l,t as u,F as _,g as h,i as D,v as I,n as m,d as b,r as y,o as r,e as p,p as V,f as L}from"./index-_2OayYvi.js";var P={VITE_API_URL:"https://ec-course-api.hexschool.io/v2",VITE_API_PATH:"angelalee",BASE_URL:"/hex-vue3-final-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:E,VITE_API_PATH:R}=P,C={data(){return{products:[],temp:{},pages:{},categories:["蛋糕","起司蛋糕","派 / 塔","麵包","其他"],status:{productsLoading:!1}}},watch:{"$route.query":{handler(){this.getData()},deep:!0}},methods:{getData(o=1){const{category:c=""}=this.$route.query,f=`${E}/api/${R}/products?category=${c}&page=${o}`;this.status.productsLoading=!0,k.get(f).then(d=>{this.status.productsLoading=!1,this.products=d.data.products,this.pages=d.data.pagination}).catch(d=>{alert(d.response.data.message)})}},mounted(){this.getData()}},v=o=>(V("data-v-4bfe1681"),o=o(),L(),o),S=v(()=>e("div",{class:"hero-img"},null,-1)),A={class:"container"},T={"aria-label":"breadcrumb"},$={class:"breadcrumb"},B={class:"breadcrumb-item"},N={class:"breadcrumb-item"},O={class:"breadcrumb-item active text-primary","aria-current":"page"},U={class:"products-grid"},q={class:"category"},H={class:"accordion border border-bottom border-top-0 border-start-0 border-end-0 mb-3",id:"accordionExample"},j={class:"card border-0"},F=v(()=>e("div",{class:"card-header px-0 py-4 bg-white border border-bottom-0 border-top border-start-0 border-end-0 rounded-0",id:"headingOne","data-bs-toggle":"collapse","data-bs-target":"#collapseOne"},[e("div",{class:"d-flex justify-content-between align-items-center pe-1"},[e("h4",{class:"mb-0"},"Category")])],-1)),M={class:"category-list list-unstyled"},z={class:"loading"},G=v(()=>e("div",{class:"spinner-border text-primary",role:"status"},null,-1)),J=[G],K={class:"product-list"},Q={class:"img-container"},W=["src"],X={class:"product-content"},Y={"aria-label":"Page navigation example"},Z={class:"pagination"},ee=["onClick"];function te(o,c,f,d,s,g){const n=y("RouterLink"),x=y("RouterView");return r(),a(_,null,[S,e("div",A,[e("nav",T,[e("ol",$,[e("li",B,[i(n,{to:"/"},{default:l(()=>[p("Home")]),_:1})]),e("li",N,[i(n,{to:"/products"},{default:l(()=>[p("Desserts")]),_:1})]),e("li",O,u(o.$route.query.category),1)])]),e("div",U,[e("div",q,[e("div",H,[e("div",j,[F,e("div",null,[e("div",null,[e("ul",M,[e("li",null,[i(n,{to:"/products",class:"py-2 d-block text-muted"},{default:l(()=>[p("全部")]),_:1})]),(r(!0),a(_,null,h(s.categories,t=>(r(),a("li",{key:t},[i(n,{to:`/products?category=${t}`,class:"py-2 d-block text-muted"},{default:l(()=>[p(u(t),1)]),_:2},1032,["to"])]))),128))])])])])])]),e("div",null,[D(e("div",z,J,512),[[I,s.status.productsLoading]]),e("div",K,[(r(!0),a(_,null,h(s.products,t=>(r(),a("div",{class:"product-card border-cus-cream",key:t.id},[e("div",Q,[e("img",{src:t.imageUrl,alt:"product-img"},null,8,W)]),e("div",X,[e("h3",null,[i(n,{to:`/product/${t.id}`},{default:l(()=>[p(u(t.title),1)]),_:2},1032,["to"])]),e("span",null,"$"+u(t.price),1)])]))),128))]),e("nav",Y,[e("ul",Z,[e("li",{class:m(["page-item",{disabled:!s.pages.has_pre}])},[e("a",{class:"page-link",href:"#",onClick:c[0]||(c[0]=b(t=>g.getData(s.pages.current_page-1),["prevent"]))}," Previous")],2),(r(!0),a(_,null,h(s.pages.total_pages,t=>(r(),a("li",{class:m(["page-item",{active:t===s.pages.current_page}]),key:t+123},[e("a",{class:"page-link",href:"#",onClick:b(se=>g.getData(t),["prevent"])},u(t),9,ee)],2))),128)),e("li",{class:m(["page-item",{disabled:!s.pages.has_next}])},[e("a",{class:"page-link",href:"#",onClick:c[1]||(c[1]=b(t=>g.getData(s.pages.current_page+1),["prevent"]))}," Next")],2)])])])])]),i(x)],64)}const re=w(C,[["render",te],["__scopeId","data-v-4bfe1681"]]);export{re as default};
