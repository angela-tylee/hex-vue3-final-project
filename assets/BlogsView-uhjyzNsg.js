import{a as p}from"./axios-G2rPRu76.js";import{M as f}from"./bootstrap.esm-TTjMTX3M.js";import{_ as w,c as n,a as t,F as v,f as x,d as c,t as u,g as a,j as r,l as A,b as M,o as m,r as P}from"./index-NdFvjf0J.js";var V={VITE_API_URL:"https://ec-course-api.hexschool.io/v2",VITE_API_PATH:"angelalee",BASE_URL:"/hex-vue3-final-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:h,VITE_API_PATH:b}=V;let _="",g="";const I={data(){return{blogs:[],temp:{},isNew:!1}},methods:{getArticle(){const l=`${h}/api/${b}/admin/articles`;p.get(l).then(e=>{console.log(e.data.articles),this.blogs=e.data.articles}).catch(e=>{alert(e.response.data.message)})},openArticle(l){this.temp=l},updateArticle(){let l=`${h}/api/${b}/admin/article`,e="post";this.isNew||(l=`${h}/api/${b}/admin/article/${this.temp.id}`,e="put"),p[e](l,{data:this.temp}).then(d=>{alert(d.data.message),console.log(d),_.hide(),this.getArticle()}).catch(d=>{alert(d.message),console.log(this.temp)})},openModal(l,e){l==="new"?(this.temp={imagesUrl:[]},this.isNew=!0,_.show()):l==="edit"?(this.temp={...e},this.isNew=!1,_.show()):l==="delete"&&(this.temp={...e},g.show())},delArticle(){const l=`${h}/api/${b}/admin/article/${this.temp.id}`;p.delete(l).then(e=>{alert(e.data.message),g.hide(),this.getArticle()}).catch(e=>{alert(e.data.message)})},createArticle(){console.log({title:"探索法式鹹派的美味歷史",description:"法式鹹派以其酥脆的麵皮和滑嫩的蛋奶餡料，征服了世界各地美食愛好者的心和味蕾。這道美味佳餚有著數百年的悠久歷史，起源深遠，讓我們一同踏上烹飪之旅，探索鹹派的起源、演變和持久魅力。",image:"",tag:[],create_at:1555459220,author:"angela",isPublic:!0,content:"<h3>鹹派的起源：</h3><p>鹹派的根源可以追溯到中世紀的德國，當時洛林王國（今日的洛林）的烘焙師傅創造了一種名為“庫琴（kuchen）”的鹹派。這種早期版本的鹹派由麵皮製成，填入蛋、奶油和當地的食材，如蔬菜、肉類和奶酪。</p><h3>法國的演變：</h3><p>鹹派在16世紀時開始在法國流行起來，成為洛林地區的一道標誌性菜餚。鹹派經過進一步的改良，添加了培根、洋蔥和格呂耶爾奶酪等食材。鹹派這個名詞本身來源於德語詞彙“kuchen”，意為蛋糕，在洛林方言中演變成“kische”，最終進入法國烹飪詞彙成為“quiche”。</p><p>鹹派開始與法國烹飪文化聯繫在一起，成為貴族和皇室豪華宴會上的必備佳餚。然而，直到19世紀，鹹派才在洛林以外地區廣受歡迎。烹飪食譜的出版以及巴黎咖啡館和小酒館的增加，推動著鹹派走向了烹飪的舞台，使其成為了法國乃至全世界喜愛的菜餚。</p><h3>全吸引力：</h3><p>在20世紀，鹹派在法國以外的地區迅速流行開來，其中一部分歸功於美國偶像廚師茱莉亞·克萊（Julia Child），她將法國烹飪技巧介紹給了全球觀眾。她的暢銷烹飪書《法國烹飪的藝術》中收錄了鹹派洛林的食譜，使數百萬家庭廚師接觸到了這道經典美食。</p><p>鹹派的多功能性和適應性進一步增加了其在全球的吸引力。從傳統的鹹派洛林到創意菜式，如菠菜、蘑菇和海鮮，鹹派已經成為了世界各地廚房的愛餐之選。</p><h3>持久的傳奇：</h3><p>如今，鹹派仍然是世界各地家庭、餐廳和咖啡館中珍愛的烹飪經典。其豐富的蛋奶餡料和酥脆的麵皮繼續著迷味蕾，帶來一種舒適和愉悅的感覺</p><p>無論是熱的還是冷的，作為主菜還是開胃菜，鹹派都體現了法國烹飪傳統的精髓，同時擁抱創新和創意。其持久的傳奇是對美食的永恆讚美，也是分享美味佳餚與親朋好友的共享歡樂。</p><p>總結，鹹派的歷史證明了其持久的吸引力和烹飪多樣性。從中世紀德國的起源到成為全球經典佳餚的地位，鹹派在世界烹飪文化中贏得了不朽的地位。所以，下次當你品嚐一口鹹派時，不僅要品味美味，還要感受這道經典佳餚背後豐富的歷史。祝您食慾大開！</p>"})}},mounted(){const l=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");p.defaults.headers.common.Authorization=l,this.getArticle(),_=new f(document.getElementById("productModal")),g=new f(document.getElementById("delProductModal"))}},C={class:"row py-3"},U=t("h2",null,"文章列表",-1),E={class:"btn-group mt-3"},T={class:"table table-hover mt-4"},L=t("thead",null,[t("tr",null,[t("th",{width:"120px"},"標題"),t("th",{width:"150px"},"ID"),t("th",{width:"120px"},"是否發佈"),t("th",{width:"120px"},"編輯")])],-1),B={key:0,class:"text-success"},R={key:1},D={class:"btn-group"},N=["onClick"],S=["onClick"],j={id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},F={class:"modal-dialog modal-xl"},H={class:"modal-content border-0"},O=t("div",{class:"modal-header bg-dark text-white"},[t("h5",{id:"productModalLabel",class:"modal-title"},[t("span",{class:"text-white"},"編輯文章")]),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),q={class:"modal-body"},z={class:"row"},J={class:"col-sm-4"},G={class:"mb-2"},K={class:"mb-3"},Q=t("label",{for:"imageUrl",class:"form-label"},"輸入圖片網址",-1),W=["src"],X={class:"col-sm-8"},Y={class:"mb-3"},Z=t("label",{for:"title",class:"form-label"},"標題",-1),$={class:"row"},tt={class:"mb-3 col-md-6"},et=t("label",{for:"author",class:"form-label"},"作者",-1),st={class:"row"},lt={class:"mb-3 col-md-12"},ot=t("label",{for:"description",class:"form-label"},"簡介",-1),it=t("hr",null,null,-1),at={class:"mb-3"},dt=t("label",{for:"content",class:"form-label"},"內容",-1),nt={class:"mb-3"},ct={class:"form-check"},rt=t("label",{class:"form-check-label",for:"isPublic"},"是否發布",-1),mt={class:"modal-footer"},pt=t("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1),ut={id:"delProductModal",ref:"delProductModal",class:"modal fade",tabindex:"-1","aria-labelledby":"delProductModalLabel","aria-hidden":"true"},ht={class:"modal-dialog"},bt={class:"modal-content border-0"},_t=t("div",{class:"modal-header bg-danger text-white"},[t("h5",{id:"delProductModalLabel",class:"modal-title"},[t("span",{class:"text-white"},"刪除產品")]),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),gt={class:"modal-body"},ft={class:"text-danger"},vt={class:"modal-footer"},yt=t("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function kt(l,e,d,wt,o,i){const y=P("RouterView");return m(),n(v,null,[t("div",C,[t("div",null,[U,t("div",E,[t("button",{type:"button",class:"btn btn-primary btn-sm",onClick:e[0]||(e[0]=s=>i.openModal("new",l.blog))}," 新增文章 ")]),t("table",T,[L,t("tbody",null,[(m(!0),n(v,null,x(o.blogs,s=>(m(),n("tr",{key:s.id},[t("td",null,u(s.title),1),t("td",null,u(s.id),1),t("td",null,[s.isPublic?(m(),n("span",B,"已發佈")):(m(),n("span",R,"未發佈"))]),t("td",null,[t("div",D,[t("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:k=>i.openModal("edit",s)}," 編輯 ",8,N),t("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:k=>i.openModal("delete",s)}," 刪除 ",8,S)])])]))),128))])]),t("p",null,[c("目前有 "),t("span",null,u(o.blogs.length),1),c(" 篇文章")])])]),t("div",j,[t("div",F,[t("div",H,[O,t("div",q,[t("div",z,[t("div",J,[t("div",G,[t("div",K,[Q,a(t("input",{type:"text",class:"form-control",placeholder:"請輸入圖片連結","onUpdate:modelValue":e[1]||(e[1]=s=>o.temp.image=s)},null,512),[[r,o.temp.image]])]),t("img",{class:"img-fluid",src:o.temp.image,alt:""},null,8,W)]),t("div",null,[t("button",{class:"btn btn-outline-primary btn-sm d-block w-100 mt-3",onClick:e[2]||(e[2]=(...s)=>l.createImages&&l.createImages(...s))}," 新增圖片 ")]),t("div",null,[t("button",{class:"btn btn-outline-danger btn-sm d-block w-100 mt-3",onClick:e[3]||(e[3]=(...s)=>l.delImages&&l.delImages(...s))}," 刪除圖片 ")])]),t("div",X,[t("div",Y,[Z,a(t("input",{id:"title",type:"text",class:"form-control",placeholder:"請輸入標題","onUpdate:modelValue":e[4]||(e[4]=s=>o.temp.title=s)},null,512),[[r,o.temp.title]])]),t("div",$,[t("div",tt,[et,a(t("input",{id:"author",type:"text",class:"form-control",placeholder:"請輸入作者","onUpdate:modelValue":e[5]||(e[5]=s=>o.temp.author=s)},null,512),[[r,o.temp.author]])])]),t("div",st,[t("div",lt,[ot,a(t("textarea",{id:"description",type:"text",class:"form-control",placeholder:"請輸入簡介","onUpdate:modelValue":e[6]||(e[6]=s=>o.temp.description=s)},`
                    `,512),[[r,o.temp.description]])])]),it,t("div",at,[dt,a(t("textarea",{id:"content",type:"text",class:"form-control",placeholder:"請輸入文章內容","onUpdate:modelValue":e[7]||(e[7]=s=>o.temp.content=s)},`
                    `,512),[[r,o.temp.content]])]),t("div",nt,[t("div",ct,[a(t("input",{id:"isPublic",class:"form-check-input",type:"checkbox","true-value":1,"false-value":0,"onUpdate:modelValue":e[8]||(e[8]=s=>o.temp.isPublic=s)},null,512),[[A,o.temp.isPublic]]),rt])])])])]),t("div",mt,[pt,t("button",{type:"button",class:"btn btn-primary",onClick:e[9]||(e[9]=(...s)=>i.updateArticle&&i.updateArticle(...s))}," 確認 ")])])])],512),t("div",ut,[t("div",ht,[t("div",bt,[_t,t("div",gt,[c(" 是否刪除 "),t("strong",ft,u(o.temp.title),1),c(" 商品(刪除後將無法恢復)。 ")]),t("div",vt,[yt,t("button",{type:"button",class:"btn btn-danger",onClick:e[10]||(e[10]=(...s)=>i.delArticle&&i.delArticle(...s))}," 確認刪除 ")])])]),c("- ")],512),M(y)],64)}const Pt=w(I,[["render",kt]]);export{Pt as default};
