import{a}from"./axios-G2rPRu76.js";import{_ as b,c as i,a as t,F as r,g as k,d as l,t as s,b as h,o as d,w,r as p}from"./index-j120w09g.js";var y={VITE_API_URL:"https://ec-course-api.hexschool.io/v2",VITE_API_PATH:"angelalee",BASE_URL:"/hex-vue3-final-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:u,VITE_API_PATH:v}=y,f={data(){return{products:[],temp:{}}},methods:{checkAdmin(){const o=`${u}/api/user/check`;a.post(o).then(()=>{this.getData()}).catch(c=>{alert(c.response.data.message),window.location="log-in.html"})},getData(){const o=`${u}/api/${v}/admin/products/all`;a.get(o).then(c=>{console.log(c.data.products),this.products=c.data.products}).catch(c=>{alert(c.response.data.message)})},openProduct(o){this.temp=o}},mounted(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");a.defaults.headers.common.Authorization=o,this.checkAdmin()}},x={class:"row py-3"},V={class:"col-md-9"},A=t("h2",null,"產品列表",-1),P={class:"table table-hover mt-4"},R=t("thead",null,[t("tr",null,[t("th",{width:"150"},"產品名稱"),t("th",{width:"150"},"種類"),t("th",{width:"120"},"原價"),t("th",{width:"120"},"售價"),t("th",{width:"150"},"是否啟用"),t("th",{width:"120"},"編輯"),t("th",{width:"120"},"查看細節")])],-1),C={width:"150"},E={width:"150"},I={width:"120"},T={width:"120"},D={width:"150"},L={key:0,class:"text-success"},B={key:1},S={class:"btn-group"},U=["onClick"],M=["onClick"],N={width:"120"},F=["onClick"],H={class:"col-md-3"},O=t("h2",null,"單一產品細節",-1),j={class:"card mb-3"},z=["src"],$={class:"card-body"},q={class:"card-title"},G={class:"badge bg-primary ms-2"},J={class:"card-text"},K={class:"card-text"},Q={class:"d-flex"},W={class:"card-text me-2"},X={class:"card-text text-secondary"},Y=t("template",null,[t("img",{src:"",alt:"",class:"images m-2"})],-1),Z={key:1,class:"text-secondary"};function tt(o,c,et,st,e,ot){const m=p("RouterLink"),g=p("RouterView");return d(),i(r,null,[t("div",x,[t("div",V,[A,t("table",P,[R,t("tbody",null,[(d(!0),i(r,null,k(e.products,n=>(d(),i("tr",{key:n.id},[t("td",C,[h(m,{to:"/admin/product-page"},{default:w(()=>[l(s(n.title),1)]),_:2},1024)]),t("td",E,s(n.category),1),t("td",I,s(n.origin_price),1),t("td",T,s(n.price),1),t("td",D,[n.is_enabled?(d(),i("span",L,"啟用")):(d(),i("span",B,"未啟用"))]),t("td",null,[t("div",S,[t("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:_=>o.openModal("edit",n)}," 編輯 ",8,U),t("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:_=>o.openModal("delete",n)}," 刪除 ",8,M)])]),t("td",N,[t("button",{type:"button",class:"btn btn-primary",onClick:_=>e.temp=n}," 查看細節 ",8,F)])]))),128))])]),t("p",null,[l("目前有 "),t("span",null,s(e.products.length),1),l(" 項產品")])]),t("div",H,[O,e.temp.title?(d(),i(r,{key:0},[t("div",j,[t("img",{src:e.temp.imageUrl,class:"card-img-top primary-image",alt:"主圖"},null,8,z),t("div",$,[t("h5",q,[l(s(e.temp.title)+" ",1),t("span",G,s(e.temp.category),1)]),t("p",J,"商品描述："+s(e.temp.description),1),t("p",K,"商品內容："+s(e.temp.content),1),t("div",Q,[t("p",W,s(e.temp.price),1),t("p",X,[t("del",null,s(e.temp.origin_price),1)]),l(" 元 / "+s(e.temp.unit),1)])])]),Y],64)):(d(),i("p",Z,"請選擇一個商品查看"))])]),h(g)],64)}const it=b(f,[["render",tt]]);export{it as default};
