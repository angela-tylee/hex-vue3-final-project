import{a as h}from"./axios-G2rPRu76.js";import{_ as I,c as d,a as t,b as a,w as m,t as c,i as V,j as x,k as b,e as l,d as T,r as g,o as u,p as k,f as q}from"./index-PCKLP3Xs.js";var w={VITE_API_URL:"https://ec-course-api.hexschool.io/v2",VITE_API_PATH:"angelalee",BASE_URL:"/hex-vue3-final-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:y,VITE_API_PATH:v}=w,P={data(){return{product:{},cart:{},status:{addCartLoading:""},qty:1}},methods:{getData(){const{id:s}=this.$route.params,o=`${y}/api/${v}/product/${s}`;h.get(o).then(r=>{console.log(r.data.product),this.product=r.data.product}).catch(r=>{alert(r.response.data.message)})},addToCart(s,o=1){const r={product_id:s.id,qty:o};this.status.addCartLoading=r.product_id,h.post(`${y}/api/${v}/cart`,{data:r}).then(()=>{this.status.addCartLoading=""}).catch(p=>{alert(p.response.data.message)})},changeQty(s){this.qty=s}},mounted(){this.getData()}},f=s=>(k("data-v-3c348772"),s=s(),q(),s),R={class:"container"},D={"aria-label":"breadcrumb"},L={class:"breadcrumb"},E={class:"breadcrumb-item"},A={class:"breadcrumb-item"},S={class:"breadcrumb-item active","aria-current":"page"},U={class:"product-grid"},N={class:"product-img img-container"},B=["src"],O={class:"product-content"},H=f(()=>t("h4",null,"PRODUCT DESCRIPTION",-1)),M={class:"quantity-block"},Q={class:"input-group"},j=["disabled"],z={class:"price"},F={key:0,class:"small"},G=["disabled"],J={key:0,class:"spinner-border text-white",style:{width:"1.2em",height:"1.2em"},role:"status"},K=f(()=>t("span",{class:"text-white"},"Add to Cart",-1));function W(s,o,r,p,e,n){const _=g("RouterLink"),C=g("RouterView");return u(),d("div",R,[t("nav",D,[t("ol",L,[t("li",E,[a(_,{to:"/"},{default:m(()=>[l("Home")]),_:1})]),t("li",A,[a(_,{to:"/products"},{default:m(()=>[l("Desserts")]),_:1})]),t("li",S,c(e.product.title),1)])]),t("div",U,[t("div",N,[t("img",{src:e.product.imageUrl,alt:"product-img"},null,8,B)]),t("div",O,[t("div",null,[t("h2",null,c(e.product.title),1),t("span",null,c(e.product.category),1),H,t("p",null,c(e.product.description),1)]),t("div",null,[t("div",M,[t("div",Q,[t("button",{class:"btn btn-outline-secondary",type:"button",onClick:o[0]||(o[0]=i=>{e.qty--,n.changeQty(e.qty)}),disabled:e.qty===1}," - ",8,j),V(t("input",{type:"number",class:"form-control text-center",value:"1","onUpdate:modelValue":o[1]||(o[1]=i=>e.qty=i),readonly:""},null,512),[[x,e.qty]]),t("button",{class:"btn btn-outline-secondary",type:"button",onClick:o[2]||(o[2]=i=>{e.qty++,n.changeQty(e.qty)})}," + ")]),t("span",z,[e.product.origin_price!==e.product.price?(u(),d("del",F," $"+c(e.product.origin_price),1)):b("",!0),l(" $"+c(e.product.price),1)])]),t("button",{type:"button",class:"btn btn-primary add-to-cart",onClick:o[3]||(o[3]=T(i=>n.addToCart(e.product,e.qty),["prevent"])),disabled:e.product.id===e.status.addCartLoading},[e.product.id===e.status.addCartLoading?(u(),d("i",J)):b("",!0),K],8,G)])])]),a(C)])}const Z=I(P,[["render",W],["__scopeId","data-v-3c348772"]]);export{Z as default};
